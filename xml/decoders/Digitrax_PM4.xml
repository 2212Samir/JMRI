<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../XSLT/decoder.xsl"?>
<!-- Copyright (C) JMRI 2002, 2004, 2007, 2015 All rights reserved -->
<!-- $Id: Public_Domain_FREDi_LNSV2.xml 1810 2015-11-24 12:12:00Z martin $ -->
<!--                                                                         -->
<!-- JMRI is free software; you can redistribute it and/or modify it under   -->
<!-- the terms of version 2 of the GNU General Public License as published   -->
<!-- by the Free Software Foundation. See the "COPYING" file for a copy      -->
<!-- of this license.                                                        -->
<!--                                                                         -->
<!-- JMRI is distributed in the hope that it will be useful, but WITHOUT     -->
<!-- ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or   -->
<!-- FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License    -->
<!-- for more details. -->
<decoder-config xmlns:xi="http://www.w3.org/2001/XInclude"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xsi:noNamespaceSchemaLocation="http://jmri.org/xml/schema/decoder.xsd"
                showEmptyPanes="no">

    <version author="Bob Jacobsen" version="1" lastUpdated="20171121" />

    <decoder>

        <family name="PM4/PM42" mfg="Digitrax">
            <model model="PM4/PM42"/>
        </family>

        <programming direct="no" paged="no" register="no" ops="no">
            <mode>LOCONETBDOPSWMODE</mode>
        </programming>

        <variables>
          <variable CV="1" comment="Board address" item="Short Address" default="03" infoOnly="yes">
            <!-- needed to set the board address value -->
            <decVal min="1" max="127" />
            <label>Primary Address</label>
          </variable>

          <variable CV="112.01" item="Trip Current 1">
            <enumVal>
              <enumChoice><choice>Thrown</choice></enumChoice>
              <enumChoice><choice>Closed</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.02" item="Trip Current 2">
            <enumVal>
              <enumChoice><choice>Thrown</choice></enumChoice>
              <enumChoice><choice>Closed</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.09" item="Trip Current 3">
            <enumVal>
              <enumChoice><choice>Thrown</choice></enumChoice>
              <enumChoice><choice>Closed</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.03" item="Section 1 Trip Speed2">
            <enumVal>
              <enumChoice><choice>Thrown</choice></enumChoice>
              <enumChoice><choice>Closed</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.05" item="Section 1 Trip Speed1">
            <enumVal>
              <enumChoice><choice>Thrown</choice></enumChoice>
              <enumChoice><choice>Closed</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.06" item="Section 1 AutoReversing Mode">
            <enumVal>
              <enumChoice><choice>Short-circuit Protection (pins 5 and 6 unconnected)</choice></enumChoice>
              <enumChoice><choice>Autoreversing (with pin E shorted to pin 5 and pin F shorted to pin 6)</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.11" item="Section 2 Trip Speed2">
            <enumVal>
              <enumChoice><choice>Thrown</choice></enumChoice>
              <enumChoice><choice>Closed</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.13" item="Section 2 Trip Speed1">
            <enumVal>
              <enumChoice><choice>Thrown</choice></enumChoice>
              <enumChoice><choice>Closed</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.14" item="Section 2 AutoReversing Mode">
            <enumVal>
              <enumChoice><choice>Short-circuit Protection (pins 9 and 10 unconnected)</choice></enumChoice>
              <enumChoice><choice>Autoreversing (with pin K shorted to pin 9 and pin L shorted to pin 10)</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.19" item="Section 3 Trip Speed2">
            <enumVal>
              <enumChoice><choice>Thrown</choice></enumChoice>
              <enumChoice><choice>Closed</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.21" item="Section 3 Trip Speed1">
            <enumVal>
              <enumChoice><choice>Thrown</choice></enumChoice>
              <enumChoice><choice>Closed</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.22" item="Section 3 AutoReversing Mode">
            <enumVal>
              <enumChoice><choice>Short-circuit Protection (pins 13 and 14 unconnected)</choice></enumChoice>
              <enumChoice><choice>Autoreversing (with pin P shorted to pin 13 and pin R shorted to pin 14)</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.27" item="Section 4 Trip Speed2">
            <enumVal>
              <enumChoice><choice>Thrown</choice></enumChoice>
              <enumChoice><choice>Closed</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.29" item="Section 4 Trip Speed1">
            <enumVal>
              <enumChoice><choice>Thrown</choice></enumChoice>
              <enumChoice><choice>Closed</choice></enumChoice>
            </enumVal>
          </variable>

          <variable CV="112.30" item="Section 4 AutoReversing Mode">
            <enumVal>
              <enumChoice><choice>Short-circuit Protection (pins 17 and 18 unconnected)</choice></enumChoice>
              <enumChoice><choice>Autoreversing (with pin U shorted to pin 17 and pin V shorted to pin 18)</choice></enumChoice>
            </enumVal>
          </variable>

          <variable item="Trip Current">
            <compositeVal>
              <compositeChoice choice="1.5 Amps">
                <compositeSetting label="Trip Current 1" value="0"/>
                <compositeSetting label="Trip Current 2" value="0"/>
                <compositeSetting label="Trip Current 3" value="1"/>
              </compositeChoice>
              <compositeChoice choice="3 Amps">
                <compositeSetting label="Trip Current 1" value="0"/>
                <compositeSetting label="Trip Current 2" value="0"/>
                <compositeSetting label="Trip Current 3" value="0"/>
              </compositeChoice>
              <compositeChoice choice="4.5 Amps">
                <compositeSetting label="Trip Current 1" value="1"/>
                <compositeSetting label="Trip Current 2" value="0"/>
                <compositeSetting label="Trip Current 3" value="1"/>
              </compositeChoice>
              <compositeChoice choice="6 Amps">
                <compositeSetting label="Trip Current 1" value="1"/>
                <compositeSetting label="Trip Current 2" value="0"/>
                <compositeSetting label="Trip Current 3" value="0"/>
              </compositeChoice>
              <compositeChoice choice="7.5 Amps">
                <compositeSetting label="Trip Current 1" value="0"/>
                <compositeSetting label="Trip Current 2" value="1"/>
                <compositeSetting label="Trip Current 3" value="1"/>
              </compositeChoice>
              <compositeChoice choice="9 Amps">
                <compositeSetting label="Trip Current 1" value="0"/>
                <compositeSetting label="Trip Current 2" value="1"/>
                <compositeSetting label="Trip Current 3" value="0"/>
              </compositeChoice>
              <compositeChoice choice="10.5 Amps">
                <compositeSetting label="Trip Current 1" value="1"/>
                <compositeSetting label="Trip Current 2" value="1"/>
                <compositeSetting label="Trip Current 3" value="1"/>
              </compositeChoice>
              <compositeChoice choice="12 Amps">
                <compositeSetting label="Trip Current 1" value="1"/>
                <compositeSetting label="Trip Current 2" value="1"/>
                <compositeSetting label="Trip Current 3" value="0"/>
              </compositeChoice>
            </compositeVal>
            <label>Trip Current is</label>
          </variable>

          <variable item="Section 1 Short-Circuit Detection Speed">
            <compositeVal>
              <compositeChoice choice="Slow">
                <compositeSetting label="Section 1 Trip Speed1" value="1"/>
                <compositeSetting label="Section 1 Trip Speed2" value="0"/>
              </compositeChoice>
              <compositeChoice choice="Normal">
                <compositeSetting label="Section 1 Trip Speed1" value="0"/>
                <compositeSetting label="Section 1 Trip Speed2" value="0"/>
              </compositeChoice>
              <compositeChoice choice="Fast (PM42 only)">
                <compositeSetting label="Section 1 Trip Speed1" value="1"/>
                <compositeSetting label="Section 1 Trip Speed2" value="1"/>
              </compositeChoice>
              <compositeChoice choice="Fastest (PM42 only)">
                <compositeSetting label="Section 1 Trip Speed1" value="0"/>
                <compositeSetting label="Section 1 Trip Speed2" value="1"/>
              </compositeChoice>
            </compositeVal>
            <label>Section 1 Trip Speed is</label>
          </variable>

          <variable item="Section 2 Short-Circuit Detection Speed">
            <compositeVal>
              <compositeChoice choice="Slow">
                <compositeSetting label="Section 2 Trip Speed1" value="1"/>
                <compositeSetting label="Section 2 Trip Speed2" value="0"/>
              </compositeChoice>
              <compositeChoice choice="Normal">
                <compositeSetting label="Section 2 Trip Speed1" value="0"/>
                <compositeSetting label="Section 2 Trip Speed2" value="0"/>
              </compositeChoice>
              <compositeChoice choice="Fast (PM42 only)">
                <compositeSetting label="Section 2 Trip Speed1" value="1"/>
                <compositeSetting label="Section 2 Trip Speed2" value="1"/>
              </compositeChoice>
              <compositeChoice choice="Fastest (PM42 only)">
                <compositeSetting label="Section 2 Trip Speed1" value="0"/>
                <compositeSetting label="Section 2 Trip Speed2" value="1"/>
              </compositeChoice>
            </compositeVal>
            <label>Section 2 Trip Speed is</label>
          </variable>

          <variable item="Section 3 Short-Circuit Detection Speed">
            <compositeVal>
              <compositeChoice choice="Slow">
                <compositeSetting label="Section 3 Trip Speed1" value="1"/>
                <compositeSetting label="Section 3 Trip Speed2" value="0"/>
              </compositeChoice>
              <compositeChoice choice="Normal">
                <compositeSetting label="Section 3 Trip Speed1" value="0"/>
                <compositeSetting label="Section 3 Trip Speed2" value="0"/>
              </compositeChoice>
              <compositeChoice choice="Fast (PM42 only)">
                <compositeSetting label="Section 3 Trip Speed1" value="1"/>
                <compositeSetting label="Section 3 Trip Speed2" value="1"/>
              </compositeChoice>
              <compositeChoice choice="Fastest (PM42 only)">
                <compositeSetting label="Section 3 Trip Speed1" value="0"/>
                <compositeSetting label="Section 3 Trip Speed2" value="1"/>
              </compositeChoice>
            </compositeVal>
            <label>Section 3 Trip Speed is</label>
          </variable>

          <variable item="Section 4 Short-Circuit Detection Speed">
            <compositeVal>
              <compositeChoice choice="Slow">
                <compositeSetting label="Section 4 Trip Speed1" value="1"/>
                <compositeSetting label="Section 4 Trip Speed2" value="0"/>
              </compositeChoice>
              <compositeChoice choice="Normal">
                <compositeSetting label="Section 4 Trip Speed1" value="0"/>
                <compositeSetting label="Section 4 Trip Speed2" value="0"/>
              </compositeChoice>
              <compositeChoice choice="Fast (PM42 only)">
                <compositeSetting label="Section 4 Trip Speed1" value="1"/>
                <compositeSetting label="Section 4 Trip Speed2" value="1"/>
              </compositeChoice>
              <compositeChoice choice="Fastest (PM42 only)">
                <compositeSetting label="Section 4 Trip Speed1" value="0"/>
                <compositeSetting label="Section 4 Trip Speed2" value="1"/>
              </compositeChoice>
            </compositeVal>
            <label>Section 4 Trip Speed is</label>
          </variable>

        </variables>
    </decoder>

    <pane>
        <name>PM4/PM42 Basic Settings</name>
        <column>
            <label><text>&lt;html&gt;&lt;span style=&quot;color: black;&quot;&gt;&lt;h2&gt;&lt;strong&gt;Trip Current (all Sections)&lt;/strong&gt;&lt;/h2&gt;&lt;/html&gt;</text></label>

            <display item="Trip Current"/>
            <label><text> </text></label>
            <separator/>

            <label><text>&lt;html&gt;&lt;span style=&quot;color: black;&quot;&gt;&lt;h2&gt;&lt;strong&gt;Section 1 Characteristics&lt;/strong&gt;&lt;/h2&gt;&lt;/html&gt;</text></label>

            <display item="Section 1 Short-Circuit Detection Speed">
                <label>Short-circuit detection speed</label>
            </display>
            <display item="Section 1 AutoReversing Mode">
                <label>Mode</label>
            </display>
            <label><text>   </text></label>

            <separator/>
            <label><text>&lt;html&gt;&lt;span style=&quot;color: black;&quot;&gt;&lt;h2&gt;&lt;strong&gt;Section 2 Characteristics&lt;/strong&gt;&lt;/h2&gt;&lt;/html&gt;</text></label>
            <display item="Section 2 Short-Circuit Detection Speed">
                <label>Short-circuit detection speed</label>
            </display>
            <display item="Section 2 AutoReversing Mode">
                <label>Mode</label>
            </display>
            <label><text>   </text></label>

            <separator/>
            <label><text>&lt;html&gt;&lt;span style=&quot;color: black;&quot;&gt;&lt;h2&gt;&lt;strong&gt;Section 3 Characteristics&lt;/strong&gt;&lt;/h2&gt;&lt;/html&gt;</text></label>
            <display item="Section 3 Short-Circuit Detection Speed">
                <label>Short-circuit detection speed</label>
            </display>
            <display item="Section 3 AutoReversing Mode">
                <label>Mode</label>
            </display>
            <label><text>   </text></label>

            <separator/>
            <label><text>&lt;html&gt;&lt;span style=&quot;color: black;&quot;&gt;&lt;h2&gt;&lt;strong&gt;Section 4 Characteristics&lt;/strong&gt;&lt;/h2&gt;&lt;/html&gt;</text></label>
            <display item="Section 4 Short-Circuit Detection Speed">
                <label>Short-circuit detection speed</label>
            </display>
            <display item="Section 4 AutoReversing Mode">
                <label>Mode</label>
            </display>
            <label><text>   </text></label>
        </column>
    </pane>

</decoder-config>